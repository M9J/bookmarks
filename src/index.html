<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="Bookmarks of M9J" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="shortcut icon"
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAAAAACPAi4CAAABH0lEQVRYw2NgGAVUArGNZIBYJAPa/pMB2kYNGDVg1IBRA0YNGDVg1IARacCO6KQdFBjwcpI1C6v11JfkGvC4QoWFgYFFvfoxmQYkCTGBJJmE48ky4KoNM0ya2eoqyQbc7VNnRMgzak68S5oBZzNlGJHbgYwy6WdJMWCvpyB6U1LA8xDxBszUYsNsjLLpzCHWgFoJRmzNWUbxSqIMOBLPj6tFzBd7hLABi5zYcbep2Z3nEzDgZaUmE75WOaN62WN8BhyPEiPUsBeLPoXbgEOunIS7BhxO+3EY8HKDAXG9C811L7EZcLxYnNj+iVjBEUwD1vnzE9/D4fNeiW7AfFNOUvpIHEazUA3ok2QmrZfFLN6JbIAdC+kdNRa70c4qtQAA7m/LhSePmzgAAAAASUVORK5CYII="
      type="image/x-icon"
    />
    <meta name="theme-color" content="#000000" />
    <link rel="manifest" href="manifest.json" />
    <link
      rel="preload"
      href="bookmarks/index.json"
      as="fetch"
      type="application/json"
      crossorigin="anonymous"
    />
    <title>Bookmarks</title>
    <link rel="stylesheet" href="styles.css" />
    <script type="module" src="script.js"></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/eruda"></script> -->
  </head>
  <body>
    <!-- <script>
      eruda.init();
    </script> -->
    <div class="header">
      <a class="brand" href="https://github.com/m9j/bookmarks" target="_blank">BOOKMARKS</a>
      <select class="view-list" id="view-list">
        <option value="home">Home</option>
        <option value="settings">Settings</option>
      </select>
    </div>
    <div class="bookmark-container" id="bookmark-container"></div>
    <div class="settings-container hide" id="settings-container">
      <button class="settings-button" id="check-for-latest-version-button">
        Check for latest version
      </button>
      <button class="settings-button" id="hard-reload-application-button">
        Hard reload application
      </button>
    </div>

    <script>
      if ("serviceWorker" in navigator) {
        let hostDir;
        const { hostname, pathname } = window.location;
        if (["localhost", "127.0.0.1"].includes(hostname)) {
          hostDir = pathname.startsWith("/dist/") ? "/dist" : "/src";
        } else hostDir = "https://m9j.github.io/bookmarks";
        if (!navigator.serviceWorker.controller) {
          navigator.serviceWorker
            .register(hostDir + "/sw.js")
            .then(() => {
              console.log("Service Worker Registered");
            })
            .catch((error) => {
              console.error("Service Worker Registration Failed:", error);
              alert("Service Worker Registration Failed: " + error);
            });
        }
      }
    </script>
  </body>
</html>
