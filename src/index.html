<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="shortcut icon"
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAAAAACPAi4CAAABH0lEQVRYw2NgGAVUArGNZIBYJAPa/pMB2kYNGDVg1IBRA0YNGDVg1IARacCO6KQdFBjwcpI1C6v11JfkGvC4QoWFgYFFvfoxmQYkCTGBJJmE48ky4KoNM0ya2eoqyQbc7VNnRMgzak68S5oBZzNlGJHbgYwy6WdJMWCvpyB6U1LA8xDxBszUYsNsjLLpzCHWgFoJRmzNWUbxSqIMOBLPj6tFzBd7hLABi5zYcbep2Z3nEzDgZaUmE75WOaN62WN8BhyPEiPUsBeLPoXbgEOunIS7BhxO+3EY8HKDAXG9C811L7EZcLxYnNj+iVjBEUwD1vnzE9/D4fNeiW7AfFNOUvpIHEazUA3ok2QmrZfFLN6JbIAdC+kdNRa70c4qtQAA7m/LhSePmzgAAAAASUVORK5CYII="
      type="image/x-icon"
    />
    <meta name="theme-color" content="#000000" />
    <link rel="manifest" href="manifest.json" />
    <link
      rel="preload"
      href="bookmarks/index.json"
      as="fetch"
      type="application/json"
      crossorigin="anonymous"
    />
    <title>Bookmarks</title>
    <link rel="stylesheet" href="styles.css" />
    <script type="module" src="script.js"></script>
  </head>
  <body>
    <a href="https://github.com/m9j/bookmarks" target="_blank" class="header">BOOKMARKS</a>
    <div class="bookmark-container" id="bookmark-container"></div>

    <script>
      if ("serviceWorker" in navigator) {
        let swPath;
        const { hostname, pathname } = window.location;
        if (hostname === "localhost") {
          swPath = pathname.startsWith("/dist/") ? "/dist/sw.js" : "/src/sw.js";
        } else swPath = "https://m9j.github.io/bookmarks/sw.js";
        if (!navigator.serviceWorker.controller) {
          navigator.serviceWorker
            .register(swPath, { scope: "/" })
            .then(() => {
              console.log("Service Worker Registered");
            })
            .catch((error) => {
              console.error("Service Worker Registration Failed:", error);
              alert("Service Worker Registration Failed: " + error);
            });
        }
      }
    </script>
  </body>
</html>
