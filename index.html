<!DOCTYPE html><html lang=en><head><meta charset=UTF-8><meta name=description content="Bookmarks of M9J"><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAAAAACPAi4CAAABH0lEQVRYw2NgGAVUArGNZIBYJAPa/pMB2kYNGDVg1IBRA0YNGDVg1IARacCO6KQdFBjwcpI1C6v11JfkGvC4QoWFgYFFvfoxmQYkCTGBJJmE48ky4KoNM0ya2eoqyQbc7VNnRMgzak68S5oBZzNlGJHbgYwy6WdJMWCvpyB6U1LA8xDxBszUYsNsjLLpzCHWgFoJRmzNWUbxSqIMOBLPj6tFzBd7hLABi5zYcbep2Z3nEzDgZaUmE75WOaN62WN8BhyPEiPUsBeLPoXbgEOunIS7BhxO+3EY8HKDAXG9C811L7EZcLxYnNj+iVjBEUwD1vnzE9/D4fNeiW7AfFNOUvpIHEazUA3ok2QmrZfFLN6JbIAdC+kdNRa70c4qtQAA7m/LhSePmzgAAAAASUVORK5CYII=" type=image/x-icon><meta name=theme-color content=#000000><link rel=manifest href=manifest.json><link rel=preload href=bookmarks/index.json as=fetch type=application/json crossorigin=anonymous><title>Bookmarks</title><style>:root{--faviconWidth:24px;--faviconHeight:24px}*{margin:0;padding:0}body,html{width:100%;height:100%;position:relative;top:0;right:0;bottom:0;left:0;display:flex;flex-direction:column;font-family:sans-serif}.header{padding:16px;background-color:#000;color:#fff;justify-content:space-between;display:flex;flex-direction:row;align-items:center;border-bottom:8px solid red}.brand{font-weight:100;letter-spacing:2px;text-decoration:none;color:#fff}.bookmark-container{flex:1;display:flex;flex-direction:row;flex-wrap:wrap;align-content:flex-start;gap:16px;padding:16px;background-color:#000;min-height:0;overflow:auto}.bookmark{color:#000;background-color:#fff;display:flex;flex-direction:row;align-items:center;height:fit-content;cursor:pointer;text-decoration:none;padding:16px;flex-shrink:0;border-radius:16px;transition:box-shadow .25s ease}.bookmark:hover{box-shadow:4px 8px 16px rgba(0,0,0,.5)}.bookmark:active{box-shadow:2px 4px 8px rgba(0,0,0,.5)}.bookmark-icon{height:var(--faviconHeight);width:var(--faviconWidth);object-fit:contain;padding:0}.bookmark-name{text-align:center;padding-left:16px}.icon-only{border-radius:16px}.settings-container{flex:1;display:flex;flex-direction:column;gap:16px;padding:16px;align-content:flex-start;background-color:#333;color:#fff}.settings-button{height:fit-content;padding:8px}.hide{display:none}.show{display:flex}.is-new{color:#ff0}</style><script type=module>const e=document.getElementById("bookmark-container"),t=document.getElementById("settings-container"),o={faviconSize:24,faviconFetchServiceURL:e=>`https://t2.gstatic.com/faviconV2?client=SOCIAL&type=FAVICON&fallback_opts=TYPE,SIZE,URL&url=${e}&size=${o.faviconSize}`};let n=null;function s(){e.classList.add("show"),t.classList.remove("show"),t.classList.add("hide")}(async()=>{await async function(){const t="./bookmarks";try{const o=await fetch(t+"/index.json");if(o){const n=await o.json();if(Array.isArray(n)&&n.length>0){const o=n.sort();!function(t){for(let o=0;o<t.length;o++){const t=document.createElement("a");t.classList.add("bookmark");const o=document.createElement("img");o.classList.add("bookmark-icon"),o.setAttribute("src",r),t.appendChild(o),e.appendChild(t)}}(o);const s=o.map((e=>fetch(t+"/"+e+".json").then((e=>e.json())).then((t=>(t.bookmarkIndexName=e,t))))),i=await Promise.all(s),a=[...i.filter((e=>e.ICON_ONLY)),...i.filter((e=>!e.ICON_ONLY))],c=document.querySelectorAll("a.bookmark");a.forEach(((e,t)=>{!function(e,t){if(e&&t){const o=e.LINK||"javascript:void(0)";let n=e.NAME||e.LINK;const s=t;e.ICON_ONLY&&s.classList.add("icon-only"),s.setAttribute("href",o),s.setAttribute("target","_blank"),s.setAttribute("rel","noopener noreferrer"),s.setAttribute("title",n),e.ICON&&s.setAttribute("data-bookmark-icon",e.ICON);const i=s.querySelector("img.bookmark-icon");i.setAttribute("src",r),i.setAttribute("alt","bookmark-icon"),i.setAttribute("loading","lazy"),i.onerror=function(){this.src=r};const a=document.createElement("div");a.classList.add("bookmark-name"),a.innerHTML=n,s.appendChild(i),e.ICON_ONLY||s.appendChild(a)}}(e,c.item(t))}))}}}catch(e){console.error("bookmarks folder or bookmarks/index.json not found. Error:",e)}}(),async function(){const e=document.querySelectorAll("a.bookmark");if(e&&e.length>0)for(let t=0;t<e.length;t++){const n=e.item(t),s=n.getAttribute("href"),i=n.getAttribute("data-bookmark-icon");let a=null;if(i)a=i;else if(s){const e=new URL(s),t=e.protocol+"//"+e.hostname;a=o.faviconFetchServiceURL(t)}const c=n.getElementsByTagName("img").item(0);c&&(c.setAttribute("src",a),c.onerror=function(){this.src=r})}}(),async function(){const e="./version.json";let o=null;try{const e=await fetch("./version.json");if(e.ok?(o=(await e.json()).version,n=o):console.log(new Error("Failed to fetch current version")),o){const e=document.createElement("div");e.innerHTML=`Versions:<br><div id="current-version">${i(o)} [CURRENT] </div><div id="latest-version"></div>`,t.prepend(e)}}catch(e){console.error("Version check failed: ",e)}}()})(),document.getElementById("view-list").addEventListener("change",(o=>{const{target:n}=o;"settings"===n.value?(e.classList.remove("show"),e.classList.add("hide"),t.classList.add("show")):s()})),document.getElementById("hard-reload-application-button").addEventListener("click",(()=>{navigator.serviceWorker.getRegistrations().then((e=>{e.forEach((e=>e.unregister())),console.log("All service workers have been unregistered."),caches.keys().then((e=>Promise.all(e.map((e=>caches.delete(e)))))).then((()=>{console.log("All caches have been cleared."),location.reload()}))}))})),document.getElementById("check-for-latest-version-button").addEventListener("click",(()=>async function(){let e=null;const t=await fetch("https://m9j.github.io/bookmarks/version.json",{cache:"no-store"});if(t.ok?e=(await t.json()).version:console.log(new Error("Failed to fetch latest version")),Number(e)){console.log(Number(e),Number(n));const t=document.getElementById("latest-version");let o=Number(e)>Number(n);t.innerHTML=o?`${i(e)} <span class="is-new">[LATEST]</span>`:`${i(e)} [LATEST]`}}()));const r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAAAAACPAi4CAAABH0lEQVRYw2NgGAVUArGNZIBYJAPa/pMB2kYNGDVg1IBRA0YNGDVg1IARacCO6KQdFBjwcpI1C6v11JfkGvC4QoWFgYFFvfoxmQYkCTGBJJmE48ky4KoNM0ya2eoqyQbc7VNnRMgzak68S5oBZzNlGJHbgYwy6WdJMWCvpyB6U1LA8xDxBszUYsNsjLLpzCHWgFoJRmzNWUbxSqIMOBLPj6tFzBd7hLABi5zYcbep2Z3nEzDgZaUmE75WOaN62WN8BhyPEiPUsBeLPoXbgEOunIS7BhxO+3EY8HKDAXG9C811L7EZcLxYnNj+iVjBEUwD1vnzE9/D4fNeiW7AfFNOUvpIHEazUA3ok2QmrZfFLN6JbIAdC+kdNRa70c4qtQAA7m/LhSePmzgAAAAASUVORK5CYII=";function i(e){if(e){const t=new Date(Number(e)),o=String(t.getFullYear()),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),r=3600*t.getHours()+60*t.getMinutes()+t.getSeconds();return`${o}.${n}${s}.${String(r).padStart(5,"0")}`}}</script></head><body><div class=header><a class=brand href=https://github.com/m9j/bookmarks target=_blank>BOOKMARKS</a> <select class=view-list id=view-list><option value=home>Home</option><option value=settings>Settings</option></select></div><div class=bookmark-container id=bookmark-container></div><div class="settings-container hide" id=settings-container><button class=settings-button id=check-for-latest-version-button>Check for latest version</button> <button class=settings-button id=hard-reload-application-button>Hard reload application</button></div><script>if("serviceWorker"in navigator){let e;const{hostname:r,pathname:o}=window.location;e=["localhost","127.0.0.1"].includes(r)?o.startsWith("/dist/")?"/dist":"/src":"https://m9j.github.io/bookmarks",navigator.serviceWorker.controller||navigator.serviceWorker.register(e+"/sw.js").then((()=>{console.log("Service Worker Registered")})).catch((e=>{console.error("Service Worker Registration Failed:",e),alert("Service Worker Registration Failed: "+e)}))}</script></body></html>